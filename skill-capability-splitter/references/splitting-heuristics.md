# 拆分启发式（Splitting Heuristics）

用于判断一个 skill 是否应该拆分，以及如何拆分。

## 1. 五类常见拆分轴（优先级从高到低）

### A. 阶段轴（Stage Axis）

按工作阶段拆分：

- 读取/解析（read/parse/decode）
- 理解/建模（understand/model）
- 分析/诊断（analyze/diagnose）
- 输出/汇总（report/write）
- 执行/变更（apply/modify）

适用场景：

- 同一 skill 覆盖多个阶段，且各阶段方法不同

### B. 输入形态轴（Input Modality Axis）

按输入数据类型拆分：

- 源码
- 二进制文件
- 表格/结构化数据
- 文本日志
- 截图/图表

适用场景：

- 解码/解析步骤与分析步骤依赖不同输入

### C. 专业方法轴（Method Axis）

按专业判断框架拆分：

- 协议/格式解码
- 状态机阅读
- 控制性能分析
- 报告写作

适用场景：

- 一个 skill 混合多种专业方法，导致每部分都写浅了

### D. 触发语言轴（Trigger Phrase Axis）

按用户提问表达拆分：

- “帮我读懂结构”
- “帮我解码日志”
- “帮我分析振荡原因”
- “帮我写报告”

适用场景：

- 子问题的自然语言触发差异明显

### E. 复用轴（Reusability Axis）

按复用频率拆分：

- 频繁单独使用的能力，优先独立 skill
- 只作为完整流程一步出现的能力，可以留在编排技能中（但仍需边界定义）

## 2. 原子技能判定规则（Atomicity Test）

一个候选子技能通过原子性判定，通常满足：

1. 用户能独立提出请求触发它
2. 它能在不依赖最终报告的情况下产出中间成果
3. 它有自己的正确性标准
4. 它有明确的不负责项

若不满足，考虑：

- 合并到相邻 skill
- 作为编排技能中的步骤，而非独立 skill

## 3. 何时增加编排技能（Workflow Skill）

以下情况建议加编排技能：

1. 存在固定步骤顺序
2. 用户经常问端到端任务
3. 需要“不可跳步”的质量门禁
4. 多个原子技能的结论需要统一汇总

## 4. 边界冲突处理规则

若两个 skill 都可能处理同一内容：

1. 先按主目标区分（primary goal）
2. 再按输出产物区分
3. 在双方 `SKILL.md` 中写清“不负责项”
4. 必要时由编排技能协调

## 5. 快速评分法（可选）

对每个能力项按 0-2 分打分：

1. 输入差异度
2. 方法差异度
3. 触发差异度
4. 输出差异度
5. 复用频率

总分建议：

- `0-3`：通常不必拆
- `4-6`：视上下文决定
- `7-10`：建议拆成独立原子 skill
